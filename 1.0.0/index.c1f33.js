window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return i(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Banner111013401:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111013401"),s=e("./roller/GameRoller111013401"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t}return i(t,e),t.prototype.showNodeBanner=function(){s.default.instance.broadCast.active=!1,s.default.instance.broadCast.getComponent(sp.Skeleton).setAnimation(0,"",!0),s.default.instance.broadCast.getComponent(sp.Skeleton).setAnimation(1,"",!1),s.default.instance.broadCast.getComponent(sp.Skeleton).setAnimation(2,"",!0),this.p_nodeBanner.active=!0},t.prototype.hideNodeBanner=function(){this.p_nodeBanner.active=!1},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.showNodeBanner,this),game.EventManager.getInstance().addEventListener(r.EventName.HIDE_BANNER_ACTIVE,this.hideNodeBanner,this)},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.showNodeBanner,this),game.EventManager.getInstance().removeEventListener(r.EventName.HIDE_BANNER_ACTIVE,this.hideNodeBanner,this)},a([p(cc.Node)],t.prototype,"p_nodeBanner",void 0),a([l],t)}(slot.SlotBanner);n.default=u,cc._RF.pop()},{"./GameEventName111013401":"GameEventName111013401","./roller/GameRoller111013401":"GameRoller111013401"}],BonusGame111013401:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../roller/MulList111013401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeStartBack=null,t.freeStartLight=null,t.lbFreeRotateTime=null,t.spFreeRotateTips=null,t.spAllAwardMultipleTips=null,t.lbCountDown=null,t.nodeStartBtn=null,t.btnLight=null,t.countDownSec=0,t.scoreInfoNode=null,t.cb=null,t.sorce_num=null,t.clickBtnStartTimeoutNum=0,t}return i(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.sorce_num=n[0][0],this.cb=n[0][1],cc.log("BonusGame111013401 onOpen",this.sorce_num.sumTimes),slot.SoundMger.instance.playEffect("Game_Pop",!1),slot.SoundMger.instance.playEffect("Free_Into_Sound"),this.lbFreeRotateTime.node.zIndex=1,this.spFreeRotateTips.zIndex=1,this.spAllAwardMultipleTips.zIndex=1,this.lbCountDown.node.zIndex=1,this.nodeStartBtn.zIndex=1,this.freeStartBack.getComponent(sp.Skeleton).setAnimation(0,"bl",!1),setTimeout(function(){t.freeStartLight.active=!0,t.freeStartLight.getComponent(sp.Skeleton).setAnimation(0,"bl_guang",!1)},300),this.nodeStartBtn.getComponent(cc.Button).enabled=!0,this.isStartCountDown=!1,this.lbFreeRotateTime.string=""+this.sorce_num.sumTimes,this.countDownSec=0,this.lbCountDown.string=""+this.countDownSec;var i=.5;this.spFreeRotateTips.opacity=0,this.spFreeRotateTips.scale=6,cc.tween(this.spFreeRotateTips).to(.8*i,{scale:.8,opacity:255}).to(.2*i,{scale:1}).start(),this.lbCountDown.node.opacity=0,cc.tween(this.lbCountDown.node).to(i,{opacity:255}).start(),this.lbFreeRotateTime.node.scale=0,cc.tween(this.lbFreeRotateTime.node).delay(.6*i).to(.3*i,{scale:1.1}).to(.1*i,{scale:1}).start(),this.spAllAwardMultipleTips.opacity=0,cc.tween(this.spAllAwardMultipleTips).delay(.75*i).to(.25*i,{opacity:255}).start(),this.nodeStartBtn.getComponent(cc.Button).enabled=!1,this.nodeStartBtn.opacity=0,setTimeout(function(){t.isStartCountDown=!0,t.timeDown()},1e3*i),this.scoreInfoNode=slot.MainView.instance.node.getChildByName("scorePrefab"),this.scoreInfoNode.parent=this.node,this.scoreInfoNode&&(this.scoreInfoNode.y=-650)},t.prototype.onLoad=function(){this.nodeStartBtn.on(cc.Node.EventType.MOUSE_ENTER,this.playStartBtnEffect,this),this.nodeStartBtn.on(cc.Node.EventType.MOUSE_LEAVE,this.stopStartBtnEffect,this)},t.prototype.timeDown=function(){var e=this;this.isStartCountDown&&(this.countDownSec<=100?(this.lbCountDown.string=this.countDownSec+"%",this.countDownSec+=20,setTimeout(function(){e.timeDown()},500)):this.scheduleOnce(function(){e.isStartCountDown=!1,e._showStartBtn()},1))},t.prototype._showStartBtn=function(){var e=this;this.nodeStartBtn.getComponent(cc.Button).enabled=!0,cc.tween(this.lbCountDown.node).to(.2,{opacity:0}).start(),cc.tween(this.nodeStartBtn).set({scale:0}).to(.2,{opacity:255,scale:1}).start(),this.clickBtnStartTimeoutNum=setTimeout(function(){e.onClickBtnStart(!1)},5e3)},t.prototype.onClickBtnStart=function(e){var t=this;void 0===e&&(e=!0),this.nodeStartBtn.getComponent(cc.Button).enabled=!1,slot.SoundMger.instance.playEffect("Free_Start_Button"),e&&(clearTimeout(this.clickBtnStartTimeoutNum),this.stopStartBtnEffect(),this.playStartBtnEffect());var n=slot.Handler.create(this,function(){t.scoreInfoNode.parent=slot.MainView.instance.node,t.cb&&t.cb.run(),slot.SoundMger.instance.playEffect("Game_Pop",!1),game.UIManager.getInstance().close(t)});cc.tween(this.node).to(1,{scale:1.5,opacity:0}).call(function(){r.default.instance.freeStart(t.sorce_num,n)}).start()},t.prototype.playStartBtnEffect=function(){this.btnLight.active=!0},t.prototype.stopStartBtnEffect=function(){this.btnLight.active=!1},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),this.nodeStartBtn.off(cc.Node.EventType.MOUSE_ENTER,this.playStartBtnEffect,this),this.nodeStartBtn.off(cc.Node.EventType.MOUSE_LEAVE,this.stopStartBtnEffect,this)},a([l(cc.Node)],t.prototype,"freeStartBack",void 0),a([l(cc.Node)],t.prototype,"freeStartLight",void 0),a([l(cc.Label)],t.prototype,"lbFreeRotateTime",void 0),a([l(cc.Node)],t.prototype,"spFreeRotateTips",void 0),a([l(cc.Node)],t.prototype,"spAllAwardMultipleTips",void 0),a([l(cc.Label)],t.prototype,"lbCountDown",void 0),a([l(cc.Node)],t.prototype,"nodeStartBtn",void 0),a([l(cc.Node)],t.prototype,"btnLight",void 0),a([c],t)}(game.UIView);n.default=p,cc._RF.pop()},{"../roller/MulList111013401":"MulList111013401"}],CommonNumAtlas111013401:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],FreeGameResult:[function(e,t,n){"use strict";cc._RF.push(t,"d6e6cadh2pDRrrh49UHplWd","FreeGameResult");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeEndBack=null,t.freeEndBackLight=null,t.nodeNum=null,t.lbTotalWinMoney=null,t.btnDraw=null,t.btnLight=null,t.touchLayer=null,t.m_isUpdate=!1,t.callBack=null,t.completeHandler=null,t.m_sumSpinCoin=0,t.m_sumTimes=0,t.isPlayStartSound=!0,t.isPlayEndSound=!0,t.scoreInfoNode=null,t.clickBtnDrawTimeoutNum=0,t}return i(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];cc.log("FreeGameResult",n),this.callBack=n[0][0],this.m_sumSpinCoin=Number(n[0][1]),this.m_sumTimes=n[0][2],this.completeHandler=n[0][3],slot.SoundMger.instance.playEffect("Free_Game_Settlement_01"),this.nodeNum.zIndex=1,this.lbTotalWinMoney.zIndex=1,this.btnDraw.node.zIndex=1,this.freeEndBack.getComponent(sp.Skeleton).setAnimation(0,"tw_a",!1),setTimeout(function(){t.freeEndBackLight.active=!0,t.freeEndBackLight.getComponent(sp.Skeleton).setAnimation(0,"tw_b",!0)},300),this.btnDraw.enabled=!0,this.m_isUpdate=!1,this.isPlayStartSound=!0,this.btnDraw.enabled=!1,this.btnDraw.node.opacity=0,cc.tween(this.nodeNum).set({scale:3,opacity:0}).to(.9,{scale:1,opacity:255}).start(),cc.tween(this.lbTotalWinMoney).set({scale:3,opacity:0}).to(.9,{scale:1,opacity:255}).start(),this.playTotalWinMoney(),this.scoreInfoNode=slot.MainView.instance.node.getChildByName("scorePrefab"),this.scoreInfoNode.setParent(this.node),this.scoreInfoNode&&(this.scoreInfoNode.y=-650),slot.SoundMger.instance.stopMusic("FreeGame_Back_Music")},t.prototype.onLoad=function(){this.btnDraw.node.on(cc.Node.EventType.MOUSE_ENTER,this.playStartBtnEffect,this),this.btnDraw.node.on(cc.Node.EventType.MOUSE_LEAVE,this.stopStartBtnEffect,this)},t.prototype.start=function(){},t.prototype.playTotalWinMoney=function(){var e=this;this.setWinMoney(0),this.m_isUpdate=!0,this.lbTotalWinMoney.scale=0,cc.tween({s:0}).delay(.2).to(3.1,{s:this.m_sumSpinCoin},{progress:function(t,n,o,i){var a=cc.misc.lerp(t,n,i);return e.setWinMoney(a),a}}).call(function(){e.showBtnDraw()}).tag(1234).start(),setTimeout(function(){e.touchLayer.active=!0},1e3)},t.prototype.setWinMoney=function(e){this.lbTotalWinMoney.getComponent(cc.Label).string=slot.SlotUtils.formatNumber(e)},t.prototype.showBtnDraw=function(){var e=this;this.touchLayer.active=!1,this.btnDraw.enabled=!0,slot.SoundMger.instance.playEffect("Free_Game_Settlement_02"),cc.tween(this.btnDraw.node).to(.2,{opacity:255}).start(),this.freeEndBackLight.getComponent(sp.Skeleton).setAnimation(0,"tw_guang",!1),setTimeout(function(){cc.tween(e.btnDraw.node).to(.1,{scale:1}).start(),e.clickBtnDrawTimeoutNum=setTimeout(function(){e.onClickBtnDraw(!1)},1e4)},200)},t.prototype.onClickBtnDraw=function(e){var t=this;void 0===e&&(e=!0),this.btnDraw.enabled=!1,e&&(clearTimeout(this.clickBtnDrawTimeoutNum),slot.SoundMger.instance.playEffect("Free_Checkout_Button"),this.stopStartBtnEffect(),this.playStartBtnEffect()),setTimeout(function(){t.onCloseDialog()},0)},t.prototype.onClickTouchLayer=function(){cc.Tween.stopAllByTag(1234),this.showBtnDraw(),slot.SoundMger.instance.stopEffect("Free_Game_Settlement_01"),this.setWinMoney(this.m_sumSpinCoin)},t.prototype.playStartBtnEffect=function(){this.btnLight.active=!0},t.prototype.stopStartBtnEffect=function(){this.btnLight.active=!1},t.prototype.onCloseDialog=function(){slot.SoundMger.instance.playMusic("Game_Back_Music",!0),this.callBack&&this.callBack.run(),this.callBack=null,this.completeHandler&&this.completeHandler.runWith(!0),this.completeHandler=null,game.UIManager.getInstance().close(this),this.scoreInfoNode.parent=slot.MainView.instance.node,this.scoreInfoNode=slot.MainView.instance.node.getChildByName("scorePrefab"),this.scoreInfoNode.y=-409;var e=slot.MainView.instance.node.getChildByName("gameControPrefab");e.opacity=255,e.y=-530,slot.MainView.instance.node.getChildByName("menu").active=!0},t.prototype.onDestroy=function(){this.callBack&&this.callBack.run(),this.callBack=null,this.btnDraw.node.off(cc.Node.EventType.MOUSE_ENTER,this.playStartBtnEffect,this),this.btnDraw.node.off(cc.Node.EventType.MOUSE_LEAVE,this.stopStartBtnEffect,this)},a([c(cc.Node)],t.prototype,"freeEndBack",void 0),a([c(cc.Node)],t.prototype,"freeEndBackLight",void 0),a([c(cc.Node)],t.prototype,"nodeNum",void 0),a([c(cc.Node)],t.prototype,"lbTotalWinMoney",void 0),a([c(cc.Button)],t.prototype,"btnDraw",void 0),a([c(cc.Node)],t.prototype,"btnLight",void 0),a([c(cc.Node)],t.prototype,"touchLayer",void 0),a([s],t)}(game.UIView);n.default=l,cc._RF.pop()},{}],GameBg111013401:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){},a([s],t)}(slot.BaseView));n.default=c,cc._RF.pop()},{}],GameEventName111013401:[function(e,t,n){"use strict";var o,i;cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111013401"),Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=n.EventName=void 0,function(e){e.MULTIPLE_JUMP="MULTIPLE_JUMP",e.EVENT_PLAY_WIN_NUM="EVENT_PLAY_WIN_NUM",e.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.FREE_GAME_OVER_UPDATE_BANNER_WINNUM="FREE_GAME_OVER_UPDATE_BANNER_WINNUM",e.FREE_SET_DATA="FREE_SET_DATA",e.HIDE_BANNER_ACTIVE="HIDE_BANNER_ACTIVE"}(n.EventName||(n.EventName={})),function(e){e[e.BONUS_GAME_POPUP=1e4]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=10001]="FREE_GAME_RESULT"}(i=n.UIID||(n.UIID={})),n.UICF=((o={})[i.BONUS_GAME_POPUP]={bundleName:"game_111013401",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},o[i.FREE_GAME_RESULT]={bundleName:"game_111013401",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!0,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},o),cc._RF.pop()},{}],GameLayer111013401:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/SubQueueManager111013401"),s=e("../common/Utils111013401"),c=e("../GameEventName111013401"),l=e("./GameRoller111013401"),p=e("./JTScatterTask111013401"),u=e("./MulList111013401"),d=e("./scrollerSkins/JTChildManager111013401"),h=e("./scrollerSkins/JTLayerManager111013401"),f=e("./scrollerSkins/JTLogicFactroy111013401"),_=cc._decorator,g=_.ccclass,m=_.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.goldFramePrefab=null,t.ordinaryBg=[],t.freeBg=[],t.netBgAni2=null,t.spLbFreeRemainTime=null,t.lbFreeRemainTime=null,t.spLbFreeLastTime=null,t.rollerTouchLayer=null,t.effectLayer=null,t.freetofreeAni=null,t.freetofreeNode=null,t.isfreeAccelerate=!1,t.isFreeGame=!1,t.eleRemoveNode=null,t.waitList=null,t.infoScatter=null,t.lineContent=null,t.sMask=null,t.speedMask=null,t.winFreeGame=null,t.scBg=null,t.bgkSp=[],t.isfirstToAppSound=!0,t.eleFlag=!1,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.m_isRunning=!1,t.speedIndex=[],t.bScatterAcc=!1,t.notCrushChangeGrid=[],t._lastRate=1,t.arrEle=[0,0,0,0,0],t.eliminateNum=0,t._spinAniViews=[],t.timer=null,t.spePosAccMulti=0,t.isLoginSync=!1,t._isFreeToFree=!1,t.freeGameTimes=0,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,slot.SlotConfigManager.instance.registerJPTypes(3),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this._onRestoreResp,this),e.prototype.onLoad.call(this),window.GameLayer111013401=this,n.t=this.goldFramePrefab,this.bgPlay(),this.drawMutiplePolygon(),this.freetofreeNode.active=!1,this.freetofreeAni.active=!1},t.prototype.drawMutiplePolygon=function(){var e=this.effectLayer.getComponent(cc.Mask),t=cc.find("rollerMask/pts",this.node).getComponent(cc.PolygonCollider).points;e._updateGraphics=function(){var n=e._graphics;if(n){n.clear();for(var o=0;o<t.length;o++){var i=t[o];0==o?n.moveTo(i.x,i.y):n.lineTo(i.x,i.y)}n.close(),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?n.stroke():n.fill()}},e._updateGraphics()},t.prototype.onHideElementView=function(){this.eleFlag&&(this.eleFlag=!1,this.changeScEle(!0))},t.prototype.onShowElementView=function(e,t,n){this.eleFlag=!0,this.changeScEle(!1),slot.SoundMger.instance.playEffect("Click_Symbol",!1);var o=arguments[5],i=arguments[4],a=o.children[0];a.getComponent(cc.Sprite).type=cc.Sprite.Type.SLICED,a.x=i?-160:160,a.width=t>9?450:327},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit"),slot.GData.curLanguage==game.LanguageType.MY&&(this.spLbFreeLastTime.scale=.9),slot.SpinManager.customResultCallBack=function(){return slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},t.prototype.onInitScroller=function(e){var t=this,n=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new h.default,new d.default,new f.default);var i=n.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);i.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress);var a=cc.find("rollerMask/pts",this.node).getComponent(cc.PolygonCollider).points;n.setupMaskPolygon(a),n.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7);var r=[73,222.345,371.561,519.238,671.562];slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),slot.EliminateEffectUtils.isLeftRightFallDown=!0,this.scatterTask=new p.default,this.scatterTask.onScatterComplte=function(e){if(slot.SoundMger.instance.stopEffect("Reel_Quick_0"+e.index),4==e.index){t.speedIndex=[],t.speedMask.active=!1;for(var n=slot.SlotMachineView.instance.scroller.items,o=0;o<e.index;o++)n[o].renders.forEach(function(e){return e._recoverSlotFrameAniView2()});t.lineContent.removeAllChildren(),cc.Tween.stopAllByTarget(slot.MainView.instance.node),cc.tween(slot.MainView.instance.node).to(.2,{scale:1}).start()}},this.scatterTask.config(13,2,"10-50-3",0,1e3,"animations/cardAni/gzk",!0,null,function(e){t.m_isRunning=!0,t.waitShow(!1),t.speedMask.active=!0,t.speedMask.x=r[e.index],slot.SoundMger.instance.playEffect("Reel_Quick_0"+e.index),cc.log("s.index==================>",e.index),cc.tween(slot.MainView.instance.node).to(5,{scale:1.04}).start();for(var n=slot.SlotMachineView.instance.scroller.items,o=0;o<e.index;o++)-1==t.speedIndex.indexOf(o)&&(t.speedIndex.push(o),n[o].renders.forEach(function(e){return e.playFast()}));slot.SlotMachineView.instance.scroller.isManualStopEnabled=!1},slot.JTScatterTask.ITEM_COUNT_MODE),n.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},t.prototype.playPrizeAni=function(e,t,o,i){var a=this,c=slot.Handler.create(this,function(){a._lastRate=i.curRate,t.run()}),l=n.resultList.length-2==i.index;if(cc.log("playPrizeAni \u6d88\u9664",l,e,i),slot.SoundMger.instance.stopEffect("Treasure_Hunt_Waits"),slot.SlotMachineView.instance.scroller.isManualStopEnabled=!1,s.default.playScattaIdleAni(),this.infoScatter.active=!1,n.resultList){this.waitList.children.forEach(function(e){return e.active=!1}),u.default.instance.changFlag=!1,this.eliminateNum=i.index,this.sMask.active=!0;var p=s.default.getScatterArr();this.bScatterAcc=p.length>=2,this.scroller.ruleTaskManager.getRuleTask(slot.JTRuleTaskType.SCATTER).isRunning=this.bScatterAcc,slot.EliminateEffectUtils.isLeftRightFallDown=this.bScatterAcc,this.updateLayer(e);var d=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList[i.index].notCrushChangeGrid||[];this.notCrushChangeGrid=d,console.log("notCrushChangeGrid++++",d),cc.log("notCrushChangeGrid\u6570\u636e =\u300b",e.length,d,i),this.scheduleOnce(function(){r.default.getInstance().reset(),r.default.getInstance().pushToQueue(slot.Handler.create(a,a._openTopWild,[i.curRate])),r.default.getInstance().pushToQueue(slot.Handler.create(a,a._changeWild,[d])),r.default.getInstance().pushToQueue(slot.Handler.create(a,a._changeItemAni,[e,l,i,c])),r.default.getInstance().execute()})}else c.run()},t.prototype._openTopWild=function(e,t){u.default.instance.openTopWild(e,t)},t.prototype._changeWild=function(e,t){u.default.instance.changeCardWild(e,t)},t.prototype._changeItemAni=function(e,t,n,o){var i=this;if(0==e.length)return this.sMask.active=!1,void o.run();var a=slot.Handler.create(this,function(){cc.tween(i).delay(1.1).call(function(){for(var a=0;a<e.length;a++)e[a]._recoverSlotFrameAniView();i.elePlayAni(e,t,o,n)}).start();var a=n.curSpinCoin;slot.FreeGameManager.instance.isTreateFromFreeGame?slot.FreeGameManager.instance.isTreateFreeOver?game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,a,!1,!0,null):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,a,!0,!0,null):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,a,!1,!0),a>0&&(n.crushRate>1&&e.length>0&&u.default.instance.showFreeMtp(n.curRate),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,a,slot.SpinManager.instance.betCost,a))});n.curSpinCoin>=10*slot.SpinManager.instance.betCost&&slot.SoundMger.instance.playEffect("Prize_Small_02",!1),n.curSpinCoin>=5*slot.SpinManager.instance.betCost&&n.curSpinCoin<10*slot.SpinManager.instance.betCost&&slot.SoundMger.instance.playEffect("Prize_Small_01",!1),n.curSpinCoin<5*slot.SpinManager.instance.betCost&&slot.SoundMger.instance.playEffect("Prize_Normal_0",!1),n.curSpinCoin>0&&this.getHesCaiSound(e)&&slot.SoundMger.instance.playEffect("Cheers_For_Lottery",!1);for(var r=[],s=0;s<6;s++)r[s]=new Array;for(s=0;s<e.length;s++){var l=e[s];r[l.owner._index].push(l)}this.showPrizeEffect(r,a)},t.prototype.getHesCaiSound=function(e){if(0==e.length)return!1;for(var t=u.default.instance.getEggState(),n=0;n<t.length;n++)if(t[n])if(0==n){for(var o=0;o<e.length;o++)if(10==e[o].data)return!0}else if(1==n){for(o=0;o<e.length;o++)if(11==e[o].data)return!0}else if(2==n)for(o=0;o<e.length;o++)if(12==e[o].data)return!0;return!1},t.prototype.elePlayAni=function(e,t,n,o){var i=this;this.sMask.active=!1,o.curSpinCoin>=10*slot.SpinManager.instance.betCost&&slot.SoundMger.instance.playEffect("Disappearwheel_02",!1),o.curSpinCoin>=5*slot.SpinManager.instance.betCost&&o.curSpinCoin<10*slot.SpinManager.instance.betCost&&slot.SoundMger.instance.playEffect("Disappearwheel_01",!1),o.curSpinCoin<5*slot.SpinManager.instance.betCost&&slot.SoundMger.instance.playEffect("Disappearwheel");for(var a=function(){var t=e[r];cc.tween(t.skinLoader).to(.35,{opacity:0}).call(function(){t.opacity,t.skinLoader.url=null}).start(),t._showFrameAniView1()},r=0;r<e.length;r++)a();if(this.arrEle=[0,0,0,0,0],this.bScatterAcc){slot.SlotMachineView.instance.scroller.isManualStopEnabled=!1;for(var s=0;s<e.length;s++)this.arrEle[Math.floor(e[s].index/4)]||(this.arrEle[Math.floor(e[s].index/4)]=0),this.arrEle[Math.floor(e[s].index/4)]+=1}console.log(" this.arrEle",this.arrEle),this.scheduleOnce(function(){for(var a=0;a<e.length;a++)e[a]._recoverSlotFrameAniView1();i.resetLayer(e),o.crushRate>1&&e.length>0&&u.default.instance.updataMul(o.crushRate);var r=slot.Handler.create(i,function(){i.bScatterAcc&&(slot.EliminateEffectUtils.scatterDopGapTime=slot.SpinManager.instance.isInTurbo?1:.6,slot.EliminateEffectUtils.scatterWaitDropTime=slot.SpinManager.instance.isInTurbo?7:3.5),n.run(),i.scheduleOnce(function(){if(i.bScatterAcc){for(var e=0;e<slot.SlotMachineView.instance.scroller.renders.length;e++)(a=slot.SlotMachineView._instance.scroller.renders[e]).playScatterToFreeGame();i.waitShow(!0),i.sMask.active=!0,slot.SoundMger.instance.playEffect("Treasure_Hunt_Trigger"),slot.SoundMger.instance.playEffect("Treasure_Hunt_Waits",!0),i.scheduleOnce(function(){slot.SoundMger.instance.stopEffect("Treasure_Hunt_Waits")},2.5);for(var t=slot.SlotMachineView._instance.scroller.renders.length,n=[],o=0;o<t;o++){var a;13==(a=slot.SlotMachineView._instance.scroller.renders[o]).data&&n.push(a)}i.updateLayer(n);for(var r=i.arrEle,s=0;s<r.length;s++)r[s]&&(i.waitList.children[s].active=!0,i.waitList.children[s].getComponent(sp.Skeleton).setAnimation(0,"gzk_fall",!1));i.waitLoopDelayTime()}},2)});t?i._openTopWild(o.crushRate,r):r.run()},.5)},t.prototype.waitLoopDelayTime=function(){for(var e=this,t=this.arrEle,n=function(n){setTimeout(function(){t[n]&&e.waitList.children[n].getComponent(sp.Skeleton).setAnimation(0,"gzk_fall",!0)},150*n)},o=0;o<t.length;o++)n(o)},t.prototype.waitShow=function(e){this.infoScatter.active=!0,this.infoScatter.getChildByName("ib").active=e,l.default.instance.nodeWinScore.active=!1,l.default.instance.broadCast.active=!1,game.EventManager.getInstance().raiseEvent(c.EventName.HIDE_BANNER_ACTIVE)},t.prototype.updateLayer=function(e){var t=cc.find("rollerMask/effectLayer",this.node);e.forEach(function(e){var n=t.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2()));e.parent!=t&&(e.srcParent=e.parent,e.srcPosition=cc.v2(e.x,e.y),e.parent=t,e.setPosition(n))})},t.prototype.resetLayer=function(e){e.forEach(function(e){e.parent=e.srcParent,e.setPosition(e.srcPosition)})},t.prototype.elemDropEnd=function(){if(this.bScatterAcc){if(slot.SoundMger.instance.playEffect("Treasure_Roller",!1),this.sMask.active){this.sMask.active=!1;for(var e=[],t=slot.SlotMachineView._instance.scroller.renders.length,n=0;n<t;n++){var o=slot.SlotMachineView._instance.scroller.renders[n];13==o.data&&e.push(o)}this.resetLayer(e)}this.playShake()}else slot.SoundMger.instance.playEffect("Roller_Drop",!1)},t.prototype.hideNewSpinSlot=function(){for(var e=slot.SlotMachineView._instance.scroller.renders.length,t=0;t<e;t++){var n=slot.SlotMachineView._instance.scroller.renders[t];n.y>0&&(n.opacity=0)}},t.prototype.playShake=function(e,t){void 0===e&&(e=.1),void 0===t&&(t=.02),cc.tween(slot.MainView.instance.node).by(t,{x:5*e,y:7*e}).by(t,{x:-11*e,y:-2*e}).by(t,{x:-8*e,y:3*e}).by(t,{x:11*e,y:-10*e}).by(t,{x:-10*e,y:10*e}).by(t,{x:9*e,y:-12*e}).by(t,{x:-10*e,y:12*e}).by(t,{x:10*e,y:-10*e}).by(t,{x:4*e,y:2*e}).union().repeatForever().start(),this.scheduleOnce(function(){cc.Tween.stopAllByTarget(slot.MainView.instance.node),slot.MainView.instance.node.setPosition(0,0)},.2)},t.prototype.spinCompleteDeal=function(){for(var e=0,t=0,n=slot.SlotMachineView.instance.scroller.items;t<n.length;t++){var o=n[t].renders;o.slice(0,o.length).forEach(function(t){11==t.data&&e++,t.playScattaIdleAni()})}e>2&&slot.SoundMger.instance.playEffect("Free_Start_Sound")},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,0,0,.1,0,0,0,0,.1),this.slotMachine.spaceX=0,this.slotMachine.spaceY=1,this.slotMachine.gridWidth=148,this.slotMachine.gridHeight=153.5,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype._rederAfter=function(){var e=this;slot.SpinManager.instance.spinTouchEnable=!0,s.default.initRenderState(),this.scroller.adjustScrollerPostion(0,cc.v2(0,-103)),this.scroller.adjustScrollerPostion(4,cc.v2(0,-103)),this.hideEle(),setTimeout(function(){e.changeScEle(!0)},0),slot.SlotMachineView.instance.scroller.isIgnoreLayoutResetPos=!0},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete)},t.prototype._onSpinStart=function(e){this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni(),this.scheduleOnce(function(){for(var t=slot.SlotMachineView._instance.scroller.items[e]._items,n=0;n<t.length;n++)t[n].opacity=255},.1)},t.prototype._onSpinBegin=function(){this.isfirstToAppSound=!1,this._lastRate=1,this.changeScEle(!1),this.winFreeGame.active=!1,this._isFreeToFree=!1,this.freeGameTimes=0,u.default.instance.mulInit(),u.default.instance.wildActionInit(),n.isRestoreResp=!1,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_STOP_WIN_NUM),2==slot.SpinManager.instance.nowGameType&&this.isfreeAccelerate,this.infoScatter.active=!1,this.isFreeGame&&slot.SoundMger.instance.playEffect("Game_Rotation",!1)},t.prototype._onSpinStop=function(e){this.m_isRunning,console.log("\u5355\u4e2a\u6eda\u8f74\u505c\u6b62+++++",e),this.m_isRunning=!1;for(var t=slot.SlotMachineView._instance.scroller.items[e]._items,n=0;n<t.length;n++){var o=t[n],i=o.index;o.opacity=3==i||19==i?0:255}},t.prototype._onSpinComplete=function(){console.log("=========\u6eda\u8f74\u7ed3\u675f"),this.changeScEle(!0),this.sMask.active=!1,this.speedMask.active=!1,this.lineContent.removeAllChildren(),this.waitList.children.forEach(function(e){return e.active=!1}),this.infoScatter.active=!1;var e=Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin);2==slot.SpinManager.instance.nowGameType&&(this.isfreeAccelerate=e>0);for(var t=slot.SlotMachineView.instance.scroller.items,n=0;n<t.length;n++)t[n].renders.forEach(function(e){return e._recoverSlotFrameAniView2()});this.spinCompleteDeal();for(var o=0;o<slot.SlotMachineView.instance.scroller.renders.length;o++){var i=slot.SlotMachineView._instance.scroller.renders[o];i.active&&i.playScattaIdleAni()}},t.prototype.specialAni=function(){slot.SlotMachineView._instance.scroller.renders.forEach(function(e){if(11===e.data){e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var t=e.skinLoader.skeletonNode.getComponent(sp.Skeleton);t.setAnimation(0,"spawn",!1),t.setEndListener(function(){t.setAnimation(0,"idle",!0),t.setEndListener(null)})}})},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){var n=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,0,slot.SpinManager.instance.betCost,e,t)});this.showWinAniView(slot.WinAniType.Normal,e,n,!1)},t.prototype._playFullLineAnimation=function(e,t){t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){var n=this,o=slot.Handler.create(this,function(){n.scheduleOnce(function(){t.run()},1)}),i=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,0,slot.SpinManager.instance.betCost,e,o)});this.showWinAniView(slot.WinAniType.Great,e,i,!1)},t.prototype._playMiddleRewardsAnimation=function(e,t){var n=this,o=slot.Handler.create(this,function(){n.scheduleOnce(function(){t.run()},1)}),i=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,0,slot.SpinManager.instance.betCost,e,o)});this.showWinAniView(slot.WinAniType.Middle,e,i,!1)},t.prototype._playSmallRewardsAnimation=function(e,t){var n=this,o=slot.Handler.create(this,function(){n.scheduleOnce(function(){t.run()},1)}),i=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,0,slot.SpinManager.instance.betCost,e,o)});this.showWinAniView(slot.WinAniType.Small,e,i,!1)},t.prototype._onSpinSlotRender=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(c.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().addEventListener(c.EventName.FREE_GAME_OVER,this.FreeGameOver,this),game.EventManager.getInstance().addEventListener("EVENT_CLOSE_LOADING_VIEW",this.OnEnterFreeGame,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateLoginWin,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.elemDropEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onShowElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onHideElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_END,this.hideNewSpinSlot,this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(c.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(c.EventName.FREE_GAME_OVER,this.FreeGameOver,this),game.EventManager.getInstance().removeEventListener("EVENT_CLOSE_LOADING_VIEW",this.OnEnterFreeGame,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onShowElementView,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onHideElementView,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateLoginWin,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this._onRestoreResp,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.elemDropEnd,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_END,this.hideNewSpinSlot,this)},t.prototype._onRollingResp=function(e,t){cc.log("_onRollingResp sj==============================>",t),n.resultList=t.updateList[0].value.handleState.game_10017.data.resultList},t.prototype._onRestoreResp=function(e,t){cc.log("GameLayer111013401 _onRestoreResp resp = ",t),n.isRestoreResp=!0,t&&t.state&&t.state.normalData&&t.state.normalData.handleState&&t.state.normalData.handleState.game_10017&&t.state.normalData.handleState.game_10017.data&&t.state.normalData.handleState.game_10017.data.resultList&&(n.resultList=t.state.normalData.handleState.game_10017.data.resultList)},t.prototype.OnEnterFreeGame=function(){var e,t,n;if(slot.FreeGameManager.instance.hasFreeGame){cc.log("OnEnterFreeGame"+slot.FreeGameInfo);var o=null===(n=null===(t=null===(e=slot.SpinManager.instance.customUpdateData)||void 0===e?void 0:e.game_10017)||void 0===t?void 0:t.data)||void 0===n?void 0:n.resultList,i=1;o&&(i=0==o.length?1:o[o.length-1].rate),cc.log("OnEnterFreeGame rate=============>",i),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_SET_DATA,i);var a=slot.FreeGameManager.instance.freeGameInfo.sumSpinCoin;game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,a,!0,!1)}game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START)},t.prototype.updateLoginWin=function(e,t){var n,o,i;if(!this.isLoginSync){if(t&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,0,slot.SpinManager.instance.betCost,t),!slot.FreeGameManager.instance.hasFreeGame){var a=null===(i=null===(o=null===(n=slot.SpinManager.instance.customUpdateData)||void 0===n?void 0:n.game_10017)||void 0===o?void 0:o.data)||void 0===i?void 0:i.resultList,r=1;a&&(r=0==a.length?1:a[a.length-1].rate),cc.log("rate=============>",r),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_SET_DATA,r)}this.isLoginSync=!0}},t.prototype.onFreeGameStart=function(e,t){var o=this;if(this.freeBg.forEach(function(e,t){e.active=!0,cc.tween(e).set({opacity:0}).to(.8,{opacity:255}).call(function(){o.ordinaryBg[t].active=!1,o.rollerTouchLayer.active=!0,o.isfreeAccelerate=!0}).start()}),null!=t)if(n.isRestoreResp&&slot.FreeGameManager.instance.freeGameInfo){var i=slot.FreeGameManager.instance.freeGameInfo.times;this._updateFreeGameNum(i,!1)}else this._updateFreeGameNum(t,!1)},t.prototype.FreeGameOver=function(){this.ordinaryBg.forEach(function(e){return e.active=!0}),this.freeBg.forEach(function(e){return e.active=!1}),this.rollerTouchLayer.active=!1},t.prototype._updateFreeGameNum=function(e,t){void 0===t&&(t=!0);var n=e<=0;this.freeGameTimes=e,this.spLbFreeRemainTime.active=!n,this.spLbFreeLastTime.active=n,this.lbFreeRemainTime.string=""+e},t.prototype.addFreeSpinsAni2=function(e,t){var n=this;console.log("\u89e6\u53d1\u514d\u8d39\u6e38\u620f\u5f00\u59cb\u5f39\u7a97--",e),this.scheduleOnce(function(){for(var o=0;o<slot.SlotMachineView.instance.scroller.renders.length;o++)slot.SlotMachineView._instance.scroller.renders[o].playScatterToFreeGame();slot.SoundMger.instance.playEffect("duobaocouqi",!1),n.winFreeGame.active=!0,l.default.instance.nodeWinScore.active=!1,l.default.instance.broadCast.active=!1,game.EventManager.getInstance().raiseEvent(c.EventName.HIDE_BANNER_ACTIVE),u.default.instance.hideMtp(),n.scheduleOnce(function(){n.winFreeGame.active=!1,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_STOP_WIN_NUM);for(var o=0;o<slot.SlotMachineView.instance.scroller.renders.length;o++)slot.SlotMachineView._instance.scroller.renders[o].playScattaIdleAni();game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,0),game.UIManager.getInstance().open(c.UIID.BONUS_GAME_POPUP,[e,t,"free"]),slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0);var i=slot.MainView.instance.node.getChildByName("scorePrefab");i&&(i.y=-650);var a=slot.MainView.instance.node.getChildByName("gameControPrefab");a.opacity=0,a.y=-1e3,slot.MainView.instance.node.getChildByName("menu").active=!1},2)},1)},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),this.isFreeGame=!0,e.type){case slot.OperationState.Free:cc.log("\u65ad\u7ebf\u91cd\u8fde\u5f00\u59cb\u514d\u8d39\u6e38\u620f");var n=slot.MainView.instance.node.getChildByName("gameControPrefab");n.opacity=0,n.y=-1e3,slot.MainView.instance.node.getChildByName("menu").active=!1;var o=slot.MainView.instance.node.getChildByName("scorePrefab");o&&(o.y=-650),l.default.instance.nodeWinScore.active=!1,l.default.instance.broadCast.active=!1,u.default.instance.hideMtp(),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,e.sumTimes),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,1),u.default.instance.freeStart(e,null),slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0),this.changeScEle(!1);break;case slot.OperationState.ReSpin:}setTimeout(function(){t&&t.runWith(!0)},0)},t.prototype.onFreeGameTriggered=function(e,t){var n=this;switch(console.log("onFreeGameTriggered",e),e.type){case slot.OperationState.Free:var o=slot.Handler.create(this,function(){var e=slot.MainView.instance.node.getChildByName("gameControPrefab");e.opacity=0,e.y=-1e3,slot.MainView.instance.node.getChildByName("menu").active=!1,slot.SpinManager.instance.isInTurbo=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1),n.winFreeGame.active=!1,n.infoScatter.active=!1,n.isFreeGame=!0,setTimeout(function(){t.runWith(!0)},2e3)});this.addFreeSpinsAni2(e,o);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){var n=this;switch(console.log("onFreeGameOver",e),this.infoScatter.active=!1,e.type){case slot.OperationState.Free:var o=slot.Handler.create(this,function(){u.default.instance.freeGameEnd(),n.isFreeGame=!1,game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_OVER),1==slot.GameControlBase.instance.fastBtnState?slot.SpinManager.instance.isInTurbo=!0:slot.SpinManager.instance.isInTurbo=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0)});setTimeout(function(){game.UIManager.getInstance().open(c.UIID.FREE_GAME_RESULT,[o,e.sumSpinCoin,e.sumTimes,t])},1500),setTimeout(function(){game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_OVER_UPDATE_BANNER_WINNUM,e.sumSpinCoin)},3500);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e,t){var n=this;console.log("\u53c8\u89e6\u53d1\u514d\u8d39\u6e38\u620f  =>onFreeGameTriggerAgain=>",e),this._isFreeToFree=!0;var o=e.times,i=this.freeGameTimes,a=this;this.freetofreeNode.active=!0,this.freetofreeNode.getChildByName("lb_rotatetime").getComponent(cc.Label).string=o.toString();var r=this.freetofreeNode.getChildByName("ani").getComponent(sp.Skeleton);s.default.setSpineAnimation(r,"fsw",!0),slot.SoundMger.instance.playEffect("Free_Window");for(var c=0;c<o;c++)(function(e){a.scheduleOnce(function(){i++,slot.SoundMger.instance.playEffect("Numbers_Increase"),n.freetofreeAni.active=!0,s.default.setSpineAnimation(n.freetofreeAni.getComponent(sp.Skeleton),"fsw_number_add",!1),a._updateFreeGameNum(i),e==o-1&&a.scheduleOnce(function(){n.freetofreeAni.active=!1,n.freetofreeNode.active=!1,t.run()},1)},.4*e)})(c)},t.prototype.onFreeGameTimesUpdated=function(e){var t=this;cc.tween(this.node).delay(.2).call(function(){t._updateFreeGameNum(e)}).start()},t.prototype.changeScEle=function(e){var t=this,n=s.default.getScatterArr();console.log("arr",n),e?(this.updateLayer(n),this.scBg.removeAllChildren(),n.forEach(function(e){var n=cc.instantiate(e._slotFrameAniView3),o=t.scBg.convertToNodeSpaceAR(e._slotFrameAniView3.convertToWorldSpaceAR(cc.v2()));n.active=!0,n.parent=t.scBg,n.getComponent(sp.Skeleton).setAnimation(0,"scat_a",!0),n.setPosition(o),e._slotFrameAniView3.active=!1})):(this.resetLayer(n),n.forEach(function(e){e._slotFrameAniView3.active=!0}),this.scBg.removeAllChildren())},t.prototype.hideEle=function(e){void 0===e&&(e=!1);for(var t=slot.SlotMachineView._instance.scroller.renders.length,n=0;n<t;n++){var o=slot.SlotMachineView._instance.scroller.renders[n],i=o.index;3!=i&&19!=i||(o.opacity=e?255:0)}},t.prototype.bgPlay=function(){var e=this;this.bgkSp.forEach(function(e){e.setAnimation(0,"bg_reel",!1)}),this.scheduleOnce(function(){e.bgPlay()},8)},t.prototype.showPrizeEffect=function(e,t){for(var n=this,o=0,i=0;i<e.length;i++){var a=e[i];a.length>0&&o++,function(e,t){0!=t.length&&n.scheduleOnce(function(){for(var e=0;e<t.length;e++)t[e].addEffectElement(),t[e]._showFrameAniView()},.08*e)}(o,a)}this.scheduleOnce(function(){t.run()},.08*o)},t.prototype.test=function(){this.showWinAniView(slot.WinAniType.Great,99999989,slot.Handler.create(this,function(){}))},t.t=null,t.instance=null,t.isRestoreResp=!1,t.resultList=[],a([m(cc.Prefab)],t.prototype,"goldFramePrefab",void 0),a([m([cc.Node])],t.prototype,"ordinaryBg",void 0),a([m([cc.Node])],t.prototype,"freeBg",void 0),a([m(cc.Animation)],t.prototype,"netBgAni2",void 0),a([m(cc.Node)],t.prototype,"spLbFreeRemainTime",void 0),a([m(cc.Label)],t.prototype,"lbFreeRemainTime",void 0),a([m(cc.Node)],t.prototype,"spLbFreeLastTime",void 0),a([m(cc.Node)],t.prototype,"rollerTouchLayer",void 0),a([m(cc.Node)],t.prototype,"effectLayer",void 0),a([m(cc.Node)],t.prototype,"freetofreeAni",void 0),a([m(cc.Node)],t.prototype,"freetofreeNode",void 0),a([m(cc.Node)],t.prototype,"eleRemoveNode",void 0),a([m(cc.Node)],t.prototype,"waitList",void 0),a([m(cc.Node)],t.prototype,"infoScatter",void 0),a([m(cc.Node)],t.prototype,"lineContent",void 0),a([m(cc.Node)],t.prototype,"sMask",void 0),a([m(cc.Node)],t.prototype,"speedMask",void 0),a([m(cc.Node)],t.prototype,"winFreeGame",void 0),a([m(cc.Node)],t.prototype,"scBg",void 0),a([m([sp.Skeleton])],t.prototype,"bgkSp",void 0),n=a([g],t)}(slot.AbstractMainView);n.default=y,cc._RF.pop()},{"../GameEventName111013401":"GameEventName111013401","../common/SubQueueManager111013401":"SubQueueManager111013401","../common/Utils111013401":"Utils111013401","./GameRoller111013401":"GameRoller111013401","./JTScatterTask111013401":"JTScatterTask111013401","./MulList111013401":"MulList111013401","./scrollerSkins/JTChildManager111013401":"JTChildManager111013401","./scrollerSkins/JTLayerManager111013401":"JTLayerManager111013401","./scrollerSkins/JTLogicFactroy111013401":"JTLogicFactroy111013401"}],GameRoller111013401:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111013401"),s=e("../common/Utils111013401"),c=e("./GameLayer111013401"),l=e("./MulList111013401"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeWinScore=null,t.layoutWinScore=null,t.spLbWinTotal=null,t.spLbWin=null,t.lbWinNum=null,t.ibBarNode=null,t.ibBarNode1=null,t.skeInfoabar=null,t.nodeMoneyAddStop=null,t.broadCast=null,t.broadCast2=null,t.broadCast3=null,t.curMtpBackArr=[],t.twAddMoney=null,t.nAddMoney=0,t.triggerBigPrize=!1,t.countNumTmp=0,t.betCostTmp=0,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this._updateWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this.FreeGameOver,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_SET_DATA,this._setFreeData,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this._bigWinAniEnd,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER_UPDATE_BANNER_WINNUM,this._freeGameOverUpdateBannerWinNum,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_START_ROLLING,this._onSpinBegin,this),this.broadCast.active=!1,this.broadCast2.active=!1,this.broadCast3.active=!1},t.prototype._onSpinBegin=function(){this.broadCast.active=!1,this.broadCast2.active=!1,this.broadCast3.active=!1},t.prototype.onFreeGameStart=function(){c.default.isRestoreResp},t.prototype.FreeGameOver=function(){},t.prototype._setFreeData=function(e,t){t>1&&(l.default.instance.updataMul(t,!0),t>2&&l.default.instance.connectionOpenWild(t))},t.prototype.showBannerAni=function(e,t,n){var o=this;void 0===n&&(n=!1);var i=function(e,t){o.ibBarNode.getChildByName("ib_bar_"+e).active=t,o.ibBarNode1.getChildByName("ib_bar_"+e).active=t};this.broadCast.active=!1,e>=20*t?(i("a",!1),i("b",!1),i("c",!0),this.broadCast2.active=!1,this.broadCast3.active=!1):e>=10*t?(i("a",!1),i("b",!0),i("c",!1),n&&(this.broadCast.active=!0,this.broadCast.getComponent(sp.Skeleton).setAnimation(0,"ib_b_mw",!1),this.broadCast.getComponent(sp.Skeleton).addAnimation(0,"ib_b_mw_loop",!0))):(i("a",!0),i("b",!1),i("c",!1))},t.prototype._stopWinNum=function(){this.nodeWinScore.active=!1,this.showBannerAni(0,1)},t.prototype.event_stop_slot_machine_immediately=function(){},t.prototype._updateWinNum=function(e,t,n,o,i){var a=this;if(t&&t>0||o&&o>0)if(c.default.instance.infoScatter.active=!1,this.nodeWinScore.active=!0,t>0)this._playOneWinNum(t,n,o,i);else if(o>0||c.default.isRestoreResp){var s=slot.Handler.create(this,function(){a._playTotalWinNum(o,n,i)});game.EventManager.getInstance().raiseEvent(r.EventName.HIDE_BANNER_ACTIVE),s.run()}},t.prototype._playOneWinNum=function(e,t,n,o){game.EventManager.getInstance().raiseEvent(r.EventName.HIDE_BANNER_ACTIVE),this.nodeWinScore.active=!0,this.spLbWin.active=!0,this.spLbWinTotal.active=!1,this.lbWinNum.active=!0,this.lbWinNum.getComponent(cc.Label).string=slot.SlotUtils.formatNumber(n),this.updatelbWinNum(),c.default.instance.isFreeGame&&(console.log("GameLayer111013401.instance.eliminateNum",c.default.instance.eliminateNum),c.default.instance.eliminateNum+1==1||slot.SoundMger.instance.playEffect("UICoin_04")),this._onScaleWin(),o&&o()},t.prototype._playTotalWinNum=function(e,t,n){var o=this;if(this.nodeWinScore.active=!0,this.spLbWinTotal.active=!0,this.spLbWin.active=!1,this.lbWinNum.active=!0,this._onScaleWin(),this.showBannerAni(e,t,!0),c.default.isRestoreResp)return this.lbWinNum.getComponent(cc.Label).string=slot.SlotUtils.formatNumber(e),this.updatelbWinNum(),void cc.tween(this.lbWinNum).delay(1).call(function(){n&&n.run()}).start();10*t>=e&&e>=5*t?(slot.SoundMger.instance.playEffect("Digital_Scrolling"),this.totalWinMoney=0,this.nodeMoneyAddStop.active=!0,this.nAddMoney=e,this.twAddMoney=cc.tween(this).to(1.5,{totalWinMoney:e}).call(function(){slot.SoundMger.instance.stopEffect("Digital_Scrolling"),slot.SoundMger.instance.playEffect("Scroll_End"),o.moneyAddStopFunc()}).start()):(e>=10*t?slot.SoundMger.instance.playEffect("Won_Total_Sound_01"):slot.SoundMger.instance.playEffect("Won_Total_Sound"),this.lbWinNum.getComponent(cc.Label).string=slot.SlotUtils.formatNumber(e),this.updatelbWinNum()),cc.tween(this.lbWinNum).delay(2).call(function(){n&&n.run()}).start()},t.prototype.moneyAddStopFunc=function(){this.nodeMoneyAddStop.active=!1,this.twAddMoney.stop(),this.totalWinMoney=this.nAddMoney,this.showBannerAni(this.nAddMoney,slot.SpinManager.instance.betCost,!0)},t.prototype._bigWinAniEnd=function(){cc.log("bigWinEnd triggerBigPrize="+this.triggerBigPrize),this.triggerBigPrize&&(this.triggerBigPrize=!1,this.countNumTmp=0,this.betCostTmp=0),slot.SoundMger.instance.pauseEffect("Won_Total_Sound"),this._onScaleWin(!1)},t.prototype.updatelbWinNum=function(){var e=this.lbWinNum.getComponent(cc.Label);e.string.length>=12?(e.overflow=cc.Label.Overflow.SHRINK,this.lbWinNum.width=450):e.overflow=cc.Label.Overflow.NONE},t.prototype._freeGameOverUpdateBannerWinNum=function(e,t){this.nodeWinScore.active=!0,game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_WIN_NUM),this.spLbWinTotal.active=!0,this.spLbWin.active=!1,this.lbWinNum.active=!0,c.default.instance.infoScatter.active=!1,game.EventManager.getInstance().raiseEvent(r.EventName.HIDE_BANNER_ACTIVE),this.lbWinNum.getComponent(cc.Label).string=slot.SlotUtils.formatNumber(t),this.updatelbWinNum(),this.showBannerAni(t,slot.SpinManager.instance.betCost,!0)},t.prototype._onScaleWin=function(e){var t=this;void 0===e&&(e=!0),this.layoutWinScore.scale=1.35,this.broadCast3.active=e,e?(s.default.setSpineAnimation(this.broadCast3.getComponent(sp.Skeleton),"ib_b",!1,slot.Handler.create(this,function(){s.default.setSpineAnimation(t.broadCast3.getComponent(sp.Skeleton),"ib_b_loop",!0)})),this.broadCast2.active=!0,s.default.setSpineAnimation(this.broadCast2.getComponent(sp.Skeleton),"ib_a",!1,slot.Handler.create(this,function(){t.broadCast2.active=!1})),cc.tween(this.layoutWinScore).to(.2,{scale:1}).start()):this.broadCast.active=!1},Object.defineProperty(t.prototype,"totalWinMoney",{get:function(){return this._totalWinMoney},set:function(e){this._totalWinMoney=e,this.lbWinNum.getComponent(cc.Label).string=slot.SlotUtils.formatNumber(e),this.updatelbWinNum()},enumerable:!1,configurable:!0}),t.prototype.start=function(){},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this._updateWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this.FreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_SET_DATA,this._setFreeData,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this._bigWinAniEnd,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER_UPDATE_BANNER_WINNUM,this._freeGameOverUpdateBannerWinNum,this)},t.instance=null,a([d(cc.Node)],t.prototype,"nodeWinScore",void 0),a([d(cc.Node)],t.prototype,"layoutWinScore",void 0),a([d(cc.Node)],t.prototype,"spLbWinTotal",void 0),a([d(cc.Node)],t.prototype,"spLbWin",void 0),a([d(cc.Node)],t.prototype,"lbWinNum",void 0),a([d(cc.Node)],t.prototype,"ibBarNode",void 0),a([d(cc.Node)],t.prototype,"ibBarNode1",void 0),a([d(sp.Skeleton)],t.prototype,"skeInfoabar",void 0),a([d(cc.Node)],t.prototype,"nodeMoneyAddStop",void 0),a([d(cc.Node)],t.prototype,"broadCast",void 0),a([d(cc.Node)],t.prototype,"broadCast2",void 0),a([d(cc.Node)],t.prototype,"broadCast3",void 0),n=a([u],t)}(slot.BaseView);n.default=h,cc._RF.pop()},{"../GameEventName111013401":"GameEventName111013401","../common/Utils111013401":"Utils111013401","./GameLayer111013401":"GameLayer111013401","./MulList111013401":"MulList111013401"}],JTAfterRewardTask111013401:[function(e,t,n){"use strict";cc._RF.push(t,"888b4pxgohFVqgE+3db1uQ1","JTAfterRewardTask111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.runningTask=function(){if(slot.SpinManager.instance.rollingResult&&slot.SpinManager.instance.rollingResult.spinResult){var e=Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin),t=slot.SpinManager.instance.betCost;return console.log("JTAfterRewardTask111013401 spinCoin = "+e+" , betCost = "+t+" , nowGameType = "+slot.SpinManager.instance.nowGameType),void this.playComplete()}console.log("JTAfterRewardTask111013401 data error"),this.playComplete()},t.prototype.clear=function(){e.prototype.clear.call(this)},t.prototype.playComplete=function(){console.log("\u6d41\u7a0b\uff1aJTAfterRewardTask111013401\u5b8c\u6210"),this.complete()},a([s],t)}(slot.JTParseTask));n.default=c,cc._RF.pop()},{}],JTChildManager111013401:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111013401"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111013401":"SpinSlotViewExtend111013401"}],JTLayerManager111013401:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e),this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var t=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e),this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),t.launch(e)},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{}],JTLogicFactroy111013401:[function(e,t,n){"use strict";cc._RF.push(t,"75e2fG+0FNOLKQY2BuBfFw3","JTLogicFactroy111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./JTAfterRewardTask111013401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTAFTER_REWARD_TASK+1)},a([c],t)}(slot.JTLogicFactroy));n.default=l,cc._RF.pop()},{"./JTAfterRewardTask111013401":"JTAfterRewardTask111013401"}],JTScattask111013401:[function(e,t,n){"use strict";cc._RF.push(t,"2fd4fo/i0ZJeI93YzqLqsuw","JTScattask111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},a([s],t)}(slot.JTScatterTask));n.default=c,cc._RF.pop()},{}],JTScatterTask111013401:[function(e,t,n){"use strict";cc._RF.push(t,"96c54sL1pRMLIEoKg5zIs4o","JTScatterTask111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreIdx=[[3],[],[],[],[3]],t}return i(t,e),t.prototype.getIgnoreIndexs=function(e){return this.ignoreIdx[e]},a([s],t)}(slot.JTScatterTask));n.default=c,cc._RF.pop()},{}],LanguageInfo111013401:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111013401:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111013401"),s=e("../roller/WinAnimanager111013401"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(r.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return s.default},a([l],t)}(slot.MainView));n.default=p,cc._RF.pop()},{"../GameEventName111013401":"GameEventName111013401","../roller/WinAnimanager111013401":"WinAnimanager111013401"}],MulList111013401:[function(e,t,n){"use strict";cc._RF.push(t,"1c681fmS3NMQYgQWLfm0IbB","MulList111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111013401"),s=e("../common/Utils111013401"),c=e("./GameLayer111013401"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nolMulList=null,t.wildTopList=null,t.wildText=null,t.wildAction=null,t.liziContent=null,t.eggGoLight=null,t.blTw=[],t.eggState=[!1,!1,!1],t.wildIndex=-1,t.nolPos={3:cc.v2(-184.796,0),8:cc.v2(56.788,0),15:cc.v2(299.938,0)},t.freePos={3:cc.v2(-241.825,0),8:cc.v2(-1.78,0),15:cc.v2(243.18,0)},t.changFlag=!1,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,this.eggLight()},t.prototype.getEggState=function(){return this.eggState},t.prototype.showFreeMtp=function(e){if(c.default.instance.isFreeGame){var t=this.changeWildByMul(e);console.log("showFreeMtp =>",e,this.eggState,t),this.eggState[t]&&(this.nolMulList.getChildByName(""+e).getChildByName("mtp").active=!0)}},t.prototype.updataMul=function(e,t){if(void 0===t&&(t=!1),1!=e&&(this.mulInit(),!(e<0))){var n=this.nolMulList.getChildByName(""+e);if(n.getChildByName("active").active=!0,n.getChildByName("count").active=!1,!t)switch(this.changeWildByMul(e)){case 0:slot.SoundMger.instance.playEffect("Lighting_Multiple");break;case 1:slot.SoundMger.instance.playEffect("Lighting_Multiple_02");break;case 2:slot.SoundMger.instance.playEffect("Lighting_Multiple_01")}cc.tween(n.getChildByName("active")).set({scale:.8}).to(.2,{scale:1.3}).to(.2,{scale:1}).start(),n.getChildByName("mtp").active=!0,c.default.instance.isFreeGame&&!t&&(n.getChildByName("mtp").active=!1),n.getChildByName("kuang").active=!0,n.getChildByName("kuang").getComponent(sp.Skeleton).setAnimation(0,"mtp_d"+(c.default.instance.isFreeGame?"_fr":""),!1),n.getChildByName("kuang").getComponent(sp.Skeleton).setAnimation(1,"mtp_c"+(c.default.instance.isFreeGame?"_fr":""),!0)}},t.prototype.mulInit=function(){this.nolMulList.children.forEach(function(e){e.getChildByName("kuang").active=!1,e.getChildByName("mtp").active=!1,e.getChildByName("active").active=!1,e.getChildByName("count").active=!0})},t.prototype.wildActionInit=function(){var e=this;this.wildIndex>-1&&(this.wildTopList.children.forEach(function(t,n){n<=e.wildIndex&&(t.getChildByName("bg").active=!1,t.getChildByName("lizi").active=!1,t.getChildByName("action").getComponent(sp.Skeleton).setAnimation(0,"close_ui",!1))}),this.wildIndex=-1);for(var t=0;t<this.eggState.length;t++)this.eggState[t]=!1;this.eggGoLight.active=!0,this.wildText.children.forEach(function(e){return e.active=!1}),this.wildAction.children.forEach(function(e){return e.active=!1})},t.prototype.eggLight=function(){var e=this,t=this.eggGoLight.getChildByName("eggList").children,n=["red","green","blue"];t.forEach(function(t,o){t.getComponent(sp.Skeleton).setAnimation(0,"bg_egg_"+n[o],!1),2==o&&t.getComponent(sp.Skeleton).setCompleteListener(function(){t.getComponent(sp.Skeleton).setCompleteListener(null),e.eggGoLight.getChildByName("bg").active=!0,c.default.instance.isFreeGame?e.eggGoLight.getChildByName("bg").getComponent(sp.Skeleton).setAnimation(0,"bg_mtp_bns",!1):e.eggGoLight.getChildByName("bg").getComponent(sp.Skeleton).setAnimation(0,"bg_mtp",!1)})}),setTimeout(function(){e.eggLight()},4e3)},t.prototype.connectionOpenWild=function(e){if(!(e<3)){var t=0;3==e?t=1:e>4&&e<9?t=2:e>=15&&(t=3);for(var n=function(e){o.wildIndex=e,o.eggState[e]=!0;var t=o.wildTopList.children[e].getChildByName("bg").getComponent(sp.Skeleton);t.node.active=!0,s.default.setSpineAnimation(t,"egg_c_red",!1,slot.Handler.create(o,function(){1!=e&&(t.node.active=!1)}));var n=o.wildTopList.children[e].getChildByName("action").getComponent(sp.Skeleton),i=o.wildText.children[e];n.setAnimation(0,"open_ui",!1),o.eggState[e]=!0,o.wildTopList.children[e].getChildByName("lizi").active=!0,i.active=!0},o=this,i=0;i<t;i++)n(i)}},t.prototype.freeStart=function(e,t){var n=this;this.blTw[0].active=!0,this.blTw[0].getComponent(sp.Skeleton).setAnimation(0,"bi_b",!1),this.blTw[0].getComponent(sp.Skeleton).setCompleteListener(function(){n.blTw[0].getComponent(sp.Skeleton).setCompleteListener(null),n.blTw[0].active=!1}),game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_START,e.sumTimes),this.blTw[1].active=!0,this.blTw[1].getComponent(sp.Skeleton).setAnimation(0,"bi_a",!1),this.blTw[1].getComponent(sp.Skeleton).setCompleteListener(function(){n.blTw[1].getComponent(sp.Skeleton).setCompleteListener(null),n.blTw[1].active=!1}),[2,5,10].forEach(function(e){var t=n.nolMulList.getChildByName(""+e);cc.tween(t).to(.3,{scale:1.4}).delay(.3).to(.2,{opacity:0}).call(function(){t.scale=1,t.active=!1,t.opacity=255}).start()}),[3,8,15].forEach(function(e){var t=n.nolMulList.getChildByName(""+e);cc.tween(t).call(function(){t.getChildByName("kuang").active=!0,t.getChildByName("kuang").getComponent(sp.Skeleton).setAnimation(0,"mtp_b",!0)}).delay(.8).to(.3,{x:n.freePos[e].x,y:n.freePos[e].y}).call(function(){t.getChildByName("kuang").active=!1}).start()}),this.scheduleOnce(function(){t&&t.run()},1.2)},t.prototype.freeGameEnd=function(){for(var e in this.mulInit(),this.nolMulList.children.forEach(function(e){e.active=!0}),this.nolPos)this.nolMulList.getChildByName(""+e).setPosition(this.nolPos[e])},t.prototype.hideMtp=function(){this.nolMulList.children.forEach(function(e){e.getChildByName("mtp").active=!1})},t.prototype.changeWildByMul=function(e){var t=0;return e>=10?t=2:e>4&&e<9&&(t=1),t},t.prototype.openTopWild=function(e,t){var n=this,o=!1;if(3!=e&&8!=e&&15!=e||(o=!0),o){console.log("openTopWild \u5f00\u767e\u642d\uff0c\u53d8\u767e\u642d",e,this.eggState);var i=this.changeWildByMul(e);if(this.wildIndex=i,this.eggGoLight.active=!1,this.eggState[i])t.run();else{var a=this.wildTopList.children[i].getChildByName("action");this.wildTopList.children.forEach(function(e,t){t>i&&(e.getChildByName("action").color=cc.color(128,128,128,255))}),a.color=cc.color(255,255,255,255);var r=.02;cc.tween(a).by(r,{x:.5,y:7*.1}).by(r,{x:-1.1,y:-.2}).by(r,{x:-.8,y:3*.1}).by(r,{x:1.1,y:-1}).by(r,{x:-1,y:1}).by(r,{x:.9,y:.1*-12}).by(r,{x:-1,y:12*.1}).by(r,{x:1,y:-1}).by(r,{x:.4,y:.2}).union().repeatForever().start(),slot.SoundMger.instance.playEffect("Vibrate_Before_Opening"),this.scheduleOnce(function(){cc.Tween.stopAllByTarget(a);var e=[cc.v2(.216,-6.208),cc.v2(0,-28.674),cc.v2(-7.161,-19.341)];switch(a.setPosition(e[i]),i){case 0:slot.SoundMger.instance.playEffect("Easter_Egg_Opened_01");break;case 1:slot.SoundMger.instance.playEffect("Easter_Egg_Opened_03");break;case 2:slot.SoundMger.instance.playEffect("Easter_Egg_Opened_02")}n.wildTopList.children.forEach(function(e){e.getChildByName("action").color=cc.color(255,255,255,255)});var o=n.wildTopList.children[i].getChildByName("bg").getComponent(sp.Skeleton);o.node.active=!0,s.default.setSpineAnimation(o,"egg_c_red",!1,slot.Handler.create(n,function(){1!=i&&(o.node.active=!1)}));var r=n.wildText.children[i],c=n.wildAction.children[i];a.getComponent(sp.Skeleton).setAnimation(0,"open_ui",!1),n.eggState[i]=!0,n.wildTopList.children[i].getChildByName("lizi").active=!0,r.active=!0,cc.tween(r).set({opacity:0}).to(.4,{opacity:255}).start(),c.active=!0,n.wildTopList.children[i].children[1].active=!0,s.default.setSpineAnimation(c.getComponent(sp.Skeleton),"egg_d",!1,slot.Handler.create(n,function(){t.run()}))},1.1)}}else t.run()},t.prototype.changeCardWild=function(e,t){c.default.instance.sMask.active=!1,0!=e.length?this.changeWildBefore(e,t):t.run()},t.prototype.changeWildBefore=function(e,t){for(var n=this,o=[],i=0;i<3;i++)o[i]=[];for(i=0;i<e.length;i++){var a=e[i];o[a.elem-10].push(a)}var r=slot.Handler.create(this,function(){0==o[0].length?t.run():(n.wildIndex=0,n.changeWildAction0(o[0],t))}),s=slot.Handler.create(this,function(){0==o[1].length?r.run():(n.wildIndex=1,n.changeWildAction0(o[1],r))});0==o[2].length?s.run():(this.wildIndex=2,this.changeWildAction0(o[2],s))},t.prototype.changeWildAction0=function(e,t){var n=this.wildIndex,o=this.wildAction.children[n].getComponent(sp.Skeleton),i=this.wildTopList.children[n].getChildByName("action");cc.tween(i).by(.2,{y:20}).by(.2,{y:-20}).start(),o.node.active=!0,this.changeWildAction(e,t),s.default.setSpineAnimation(o,"egg_fashe_back",!1,slot.Handler.create(this,function(){o.node.active=!1}))},t.prototype.changeWildAction=function(e,t){var n=this.wildIndex;this.changFlag=!0;for(var o=0,i=function(i){var r=cc.instantiate(c.default.instance.node.getChildByName("shbz_wild")),s=a.wildTopList.children[n].getChildByName("action");r.parent=a.liziContent;var l=s.convertToWorldSpaceAR(cc.v2(0,0));l=a.liziContent.convertToNodeSpaceAR(l),r.setPosition(l);var p=e[i],u=slot.SlotMachineView.instance.scroller.getRenderByIndex(p.pos),d=u.skinLoader.convertToWorldSpaceAR(cc.v2(0,0));d=a.liziContent.convertToNodeSpaceAR(d),r.active=!0,cc.tween(r).delay(.15*i).call(function(){slot.SoundMger.instance.playEffect("Trigger_Easter_Egg_Joker_01")}).to(.6,{x:d.x,y:d.y}).call(function(){slot.SoundMger.instance.playEffect("Trigger_Easter_Egg_Joker_02"),u.data=p.elem,u.changeWild(),o==e.length-1&&setTimeout(function(){t.run()},100),o++,r.destroy(),r.removeFromParent()}).start()},a=this,r=0;r<e.length;r++)i(r)},a([u(cc.Node)],t.prototype,"nolMulList",void 0),a([u(cc.Node)],t.prototype,"wildTopList",void 0),a([u(cc.Node)],t.prototype,"wildText",void 0),a([u(cc.Node)],t.prototype,"wildAction",void 0),a([u(cc.Node)],t.prototype,"liziContent",void 0),a([u(cc.Node)],t.prototype,"eggGoLight",void 0),a([u([cc.Node])],t.prototype,"blTw",void 0),n=a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../GameEventName111013401":"GameEventName111013401","../common/Utils111013401":"Utils111013401","./GameLayer111013401":"GameLayer111013401"}],MultiPSRandomRefreshTool111013401:[function(e,t,n){"use strict";cc._RF.push(t,"b4ab6MwQ2lPgY5Ras4isv84","MultiPSRandomRefreshTool111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.MultiPSRandomRefreshTool));n.default=c,cc._RF.pop()},{}],SpinSlotViewExtend111013401:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../common/Utils111013401"),r=e("./GameLayer111013401"),s=function(e){function t(){var t=e.call(this)||this;return t._slotFrameAniView=null,t._slotFrameAniView1=null,t._slotFrameAniView2=null,t.bPlayFast=!1,t._slotFrameAniView3=null,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=1,t}return i(t,e),t.prototype.onPlayAnimation=function(){},t.prototype.onStopAnimation=function(){},t.prototype.reset=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.bPlayFast=!1,e.prototype.reset.call(this),this._recoverSlotFrameAniView(),this._recoverSlotFrameAniView1()},t.prototype.addEffectElement=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win",!1)},t.prototype.getSkinById=function(e){var t="";switch(e){case 1:t="q";break;case 2:t="k";break;case 3:t="a";break;case 4:t="doll_small";break;case 5:t="doll_big";break;case 6:t="egg_blue";break;case 7:t="egg_green";break;case 8:t="egg_red";break;case 9:t="wild";break;case 10:t="wild_red";break;case 11:t="wild_green";break;case 12:case 13:t="wild_blue"}return t},t.prototype.changeWild=function(){var e=this;this._slotFrameAniView3||(this._slotFrameAniView3=cc.instantiate(r.default.instance.node.getChildByName("wf_sc")),this._slotFrameAniView3.active=!0,this.addEffectNode(this._slotFrameAniView3,!1)),setTimeout(function(){var t={10:"wild_red",11:"wild_green",12:"wild_blue"};a.default.setSpineAnimation(e._slotFrameAniView3.getComponent(sp.Skeleton),t[e.data]+"_b",!1),e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"open",!1),e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn",!1,function(){a.default.setSpineAnimation(e._slotFrameAniView3.getComponent(sp.Skeleton),t[e.data]+"_a",!0)})},0)},t.prototype._showFrameAniView=function(){var e=this;this._slotFrameAniView3&&(this._slotFrameAniView3.active=!1),this._slotFrameAniView||(this._slotFrameAniView=cc.instantiate(r.default.instance.eleRemoveNode)),this._slotFrameAniView.active=!0,this.addEffectNode(this._slotFrameAniView,!1),this._slotFrameAniView.getComponent(sp.Skeleton).setSkin(""+this.getSkinById(this.data)),this._slotFrameAniView.getComponent(sp.Skeleton).setAnimation(0,"ps_a",!0),this._slotFrameAniView.getComponent(sp.Skeleton).setAnimation(2,"ps_c",!1),setTimeout(function(){e._slotFrameAniView.getComponent(sp.Skeleton).setAnimation(1,"ps_b",!0)},100)},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.active=!1)},t.prototype._showFrameAniView1=function(){this._slotFrameAniView1||(this._slotFrameAniView1=cc.instantiate(r.default.instance.eleRemoveNode)),this._slotFrameAniView1.active=!0,this.addEffectNode(this._slotFrameAniView1,!0),this._slotFrameAniView1.getComponent(sp.Skeleton).setAnimation(0,"ps_d",!1)},t.prototype._recoverSlotFrameAniView1=function(){this._slotFrameAniView&&this._slotFrameAniView1&&(this._slotFrameAniView1.active=!1)},t.prototype.playFast=function(){if(3!=this.index&&19!=this.index&&13==this.data){if(this.bPlayFast)return;var e=cc.instantiate(r.default.instance.node.getChildByName("scatterSpeed"));"zh"==game.LanguageManager.getInstance().getCurLang()?(e.getChildByName("zh").active=!0,e.getChildByName("en").active=!1):(e.getChildByName("en").active=!0,e.getChildByName("zh").active=!1),e.active=!0,e.parent=r.default.instance.lineContent;var t=this.skinLoader.convertToWorldSpaceAR(cc.v2(0,0));t=r.default.instance.lineContent.convertToNodeSpaceAR(t),e.setPosition(t)}},t.prototype._recoverSlotFrameAniView2=function(){this._slotFrameAniView2&&this._slotFrameAniView2&&(this._slotFrameAniView2.active=!1)},t.prototype.playScattaAni=function(e){11===this.data&&(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,e),this.skinLoader.skeletonNode.getComponent(sp.Skeleton).setAnimation(0,e,!0))},t.prototype.playScattaWildIdleAni=function(){3!=this.index&&19!=this.index&&this.data>9&&this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle",!0)},t.prototype.playScattaIdleAni=function(){3!=this.index&&19!=this.index&&this.isScatter()&&this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle",!0)},t.prototype.playScatterToFreeGame=function(){this.isScatter()&&this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"heartbeat",!0)},t.prototype.onRollEnd=function(){if(this.data>8){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setAnimation(0,"spawn",!1),e.setEndListener(function(){e.setAnimation(0,"idle",!0),e.setEndListener(null)})}this.data<=8&&this.data>3&&this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn",!1),13==this.data&&slot.SoundMger.instance.playEffect("Sctter_01"),this.data>8&&this.data<13&&slot.SoundMger.instance.playEffect("Wild_Appears")},t.prototype.onDropEnd=function(){this.onRollEnd()},t.prototype.onDataOrStageChange=function(){var e=this,t=slot.GData.getParameter("spinElementResConfig").spinElementResConfig[this.data];this.skinLoader.skeletonNode.x=t.spinOffsetX,this.skinLoader.skeletonNode.y=t.spinOffsetY,this.data>8?(this._slotFrameAniView3||(this._slotFrameAniView3=cc.instantiate(r.default.instance.node.getChildByName("wf_sc"))),this.addEffectNode(this._slotFrameAniView3,!1),this._slotFrameAniView3.active=!0,setTimeout(function(){e._slotFrameAniView3.getComponent(sp.Skeleton).setAnimation(0,""+{9:"wild_white_a",10:"wild_red_a",11:"wild_green_a",12:"wild_blue_a",13:"scat_a"}[e.data],!0)},0)):this._slotFrameAniView3&&(this._slotFrameAniView3.active=!1)},t.prototype.beforeRollComplete=function(){e.prototype.beforeRollComplete&&e.prototype.beforeRollComplete.call(this)},t.prototype.beforeRollCompleteOfFakeData=function(){e.prototype.beforeRollCompleteOfFakeData&&e.prototype.beforeRollCompleteOfFakeData.call(this),this.opacity=0},t.prototype.onNewElemDropEnd=function(){this.opacity=255},t}(slot.SpinSlotView);n.default=s,cc._RF.pop()},{"../common/Utils111013401":"Utils111013401","./GameLayer111013401":"GameLayer111013401"}],SubQueueManager111013401:[function(e,t,n){"use strict";cc._RF.push(t,"a168eh2Ou1AwYIyjxtP8x7y","SubQueueManager111013401");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,r=(i.property,function(){function e(){this._queue=[],this.continueHandler=slot.Handler.create(this,this.execute,null,!1)}var t;return t=e,e.getInstance=function(){return this._ins||(this._ins=new t),this._ins},e.prototype.reset=function(){this._queue=[]},e.prototype.pushToQueue=function(e){this._queue.push(e)},e.prototype.execute=function(){return!(this._queue.length<=0||(this._queue.shift().runWith(this.continueHandler),0))},e._ins=null,t=o([a],e)}());n.default=r,cc._RF.pop()},{}],Utils111013401:[function(e,t,n){"use strict";cc._RF.push(t,"a602a4UMiJMYLIUfKS+1XVQ","Utils111013401"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.clone=function(e){if(null===e||"object"!=typeof e)return e;var t={};for(var n in e.constructor===Array&&(t=[]),e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t},e.fisherYatesShuffle=function(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t--),o=e[t];e[t]=e[n],e[n]=o}return e},e.setSpineAnimation=function(e,t,n,o){e.setAnimation(0,t,n)&&!n&&e.setCompleteListener(function(){e.setCompleteListener(null),o&&o.run()})},e.playAnimation=function(e,t,n){t||e.on("finished",function(){n&&n()},this),e.play().wrapMode=t?cc.WrapMode.Loop:cc.WrapMode.Normal},e.playAnimation2=function(e,t,n,o){n||e.on("finished",function(){o&&o()},this),e.play(t).wrapMode=n?cc.WrapMode.Loop:cc.WrapMode.Normal},e.initRenderState=function(){for(var e=slot.SlotMachineView._instance.scroller.renders.length,t=0;t<e;t++){var n=slot.SlotMachineView.instance.scroller.renders[t];n.active&&n.playScattaWildIdleAni()}},e.getScatterArr=function(){for(var e=[],t=slot.SlotMachineView.instance.scroller.renders.length,n=0;n<t;n++){var o=slot.SlotMachineView._instance.scroller.renders[n];o&&o.isScatter()&&o.active&&3!=o.index&&19!=o.index&&e.push(o)}return e},e.playScattaIdleAni=function(){for(var e=slot.SlotMachineView._instance.scroller.renders.length,t=0;t<e;t++){var n=slot.SlotMachineView.instance.scroller.renders[t];n.active&&n.playScattaIdleAni()}},e}();n.default=o,cc._RF.pop()},{}],WinAnimanager111013401:[function(e,t,n){"use strict";cc._RF.push(t,"949eeVIdIVG9pROoHHpu54d","WinAnimanager111013401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.playWinTextFadeIn=function(e,t){var n=1.3;return t==slot.WinAniType.Small&&(n=0),cc.tween(e).set({scale:n}).delay(.1).to(.1,{scale:1}).start()},t.prototype.onStageChange=function(e){console.log("winType",e),slot.WinAniType.Great},t.prototype.onCoinIncreaseEnd=function(){cc.tween(this.winCoinLabel.node).delay(.15).by(.15,{scale:.3}).by(.15,{scale:-.3}).start()},t.prototype.playFadeOut=function(e){e.run()},a([s],t)}(slot.WinAniManager));n.default=c,cc._RF.pop()},{}]},{},["Banner111013401","GameEventName111013401","JTScattask111013401","BonusGame111013401","SubQueueManager111013401","Utils111013401","FreeGameResult","GameBg111013401","CommonNumAtlas111013401","LanguageInfo111013401","Main111013401","MultiPSRandomRefreshTool111013401","GameLayer111013401","GameRoller111013401","JTScatterTask111013401","MulList111013401","SpinSlotViewExtend111013401","WinAnimanager111013401","JTAfterRewardTask111013401","JTChildManager111013401","JTLayerManager111013401","JTLogicFactroy111013401"]);